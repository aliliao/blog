<!DOCTYPE html>

<html lang="zh-CN">
    {{template "header" .}}
    <body>
        {{template "navbar" .}}

        <div class="container theme-showcase" role="main">
            <div class="jumbotron">
                <h2>分类列表</h2>
                <form method="GET" action="/category">
                    <div class="form-group">
                        <label>分类名称</label>
                        <input id="name" class="form-control" placeholder="" name="name">
                    </div>
                    <input type="hidden" name="op" value="add">
                    <button type="submit" class="btn btn-default" onclick="return checkInput();">添加</button>
                </form>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>名称</th>
                            <th>文章数</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{range .Categories}}
                        <tr>
                            <th>{{.Id}}</th>
                            <th>{{.Title}}</th>
                            <th>{{.TopicCount}}</th>
                            <th>
                                <a href="/category?op=del&id={{.Id}}">删除</a>
                            </th>
                        </tr>
                        {{end}}
                    </tbody>
                </table>
            </div>
        </div>

        {{template "footer" .}}
        <script>
            function checkInput() {
                var category = document.getElementById("name")
                if (category.value.length == 0) {
                    alert("请输入分类名！");
                    return false
                }
                return true
            }
        </script>
    </body>
</html>